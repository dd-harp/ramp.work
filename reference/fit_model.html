<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fit a model to data — fit_model • ramp.work</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fit a model to data — fit_model"><meta name="description" content='A function to fit multiple feature of a model at the same time.
The feature of a model to be fit are passed as text
strings in a list, called feature.
For some of these feature, fit_model
can be configured to fit only some of the parameters or
to lump some parameters together (e.g. IRS rounds that
use the same pesticide). Each feature sets its own
default for indexing the subset of parameters to be fit,
but these can be overridden by passing
text strings in options.
If length(feature) == 1 then there is another fit_
function in ramp.work that is equivalent to
fit_model where parameter constraints and indexing options
are described in greater detail.
These are linked in the bullet points below.
If length(feature) &amp;gt; 1 then class(feature)= "multifit" and
each feature in the list gets handled separately.
The function acts only on the following text strings in feature:
mean_forcing : fits the mean forcing parameter (also, see fit_mean_forcing)
trend : fits interpolation points for a spline function (also, see fit_trend)
by default, all \(y\) values of interpolation points are fitted
a subset can be configured by setting trend_ix in options
if trend  and mean_forcing are both called, at least one of the interpolation points should be set to 1

At most one of the following aspects of seasonality:
phase : the time of year when forcing peaks (also, see fit_season_phase)
pw : a shape parameter affecting the amplitude (also, see fit_season_pw)
bottom : a shape parameter affecting amplitude (also, see fit_season_bottom)
amplitude : fits the shape parameters that affect amplitude: pw &amp;amp; bottom (also, see fit_season_amplitude)
season : fits all seasonality shape parameters: pw &amp;amp; bottom &amp;amp; phase (also, see fit_season)

irs_coverage : fit irs coverage parameters (also see fit_irs_coverage)
by default, coverage levels for all rounds are fitted independently
other options can be fitted by setting irs_ix in options

bednet_contact : fit bed net coverage parameters (also see fit_bednet_contact)
by default, coverage levels for all rounds are fitted independently
other options can be fitted by setting bednet_ix in options



The xds model object that gets returned by fit_model has the optimal paramters.'><meta property="og:description" content='A function to fit multiple feature of a model at the same time.
The feature of a model to be fit are passed as text
strings in a list, called feature.
For some of these feature, fit_model
can be configured to fit only some of the parameters or
to lump some parameters together (e.g. IRS rounds that
use the same pesticide). Each feature sets its own
default for indexing the subset of parameters to be fit,
but these can be overridden by passing
text strings in options.
If length(feature) == 1 then there is another fit_
function in ramp.work that is equivalent to
fit_model where parameter constraints and indexing options
are described in greater detail.
These are linked in the bullet points below.
If length(feature) &amp;gt; 1 then class(feature)= "multifit" and
each feature in the list gets handled separately.
The function acts only on the following text strings in feature:
mean_forcing : fits the mean forcing parameter (also, see fit_mean_forcing)
trend : fits interpolation points for a spline function (also, see fit_trend)
by default, all \(y\) values of interpolation points are fitted
a subset can be configured by setting trend_ix in options
if trend  and mean_forcing are both called, at least one of the interpolation points should be set to 1

At most one of the following aspects of seasonality:
phase : the time of year when forcing peaks (also, see fit_season_phase)
pw : a shape parameter affecting the amplitude (also, see fit_season_pw)
bottom : a shape parameter affecting amplitude (also, see fit_season_bottom)
amplitude : fits the shape parameters that affect amplitude: pw &amp;amp; bottom (also, see fit_season_amplitude)
season : fits all seasonality shape parameters: pw &amp;amp; bottom &amp;amp; phase (also, see fit_season)

irs_coverage : fit irs coverage parameters (also see fit_irs_coverage)
by default, coverage levels for all rounds are fitted independently
other options can be fitted by setting irs_ix in options

bednet_contact : fit bed net coverage parameters (also see fit_bednet_contact)
by default, coverage levels for all rounds are fitted independently
other options can be fitted by setting bednet_ix in options



The xds model object that gets returned by fit_model has the optimal paramters.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ramp.work</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Scaling.html">Scaling</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/dd-harp/ramp.work/"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Fit a model to data</h1>

      <div class="d-none name"><code>fit_model.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A function to fit multiple feature of a model at the same time.</p>
<p>The feature of a model to be fit are passed as text
strings in a list, called <code>feature.</code></p>
<p>For some of these feature, <code>fit_model</code>
can be configured to fit only some of the parameters or
to lump some parameters together (<em>e.g.</em> IRS rounds that
use the same pesticide). Each feature sets its own
default for indexing the subset of parameters to be fit,
but these can be overridden by passing
text strings in <code>options.</code></p>
<p>If <code>length(feature) == 1</code> then there is another <code>fit_</code>
function in <code>ramp.work</code> that is equivalent to
<code>fit_model</code> where parameter constraints and indexing options
are described in greater detail.
These are linked in the bullet points below.</p>
<p>If <code>length(feature) &gt; 1</code> then <code>class(feature)= "multifit"</code> and
each feature in the list gets handled separately.</p>
<p>The function acts only on the following text strings in <code>feature</code>:</p><ul><li><p><strong><code>mean_forcing</code></strong> : fits the mean forcing parameter (also, see <a href="fit_mean_forcing.html">fit_mean_forcing</a>)</p></li>
<li><p><strong><code>trend</code></strong> : fits interpolation points for a spline function (also, see <a href="fit_trend.html">fit_trend</a>)</p><ul><li><p>by default, all \(y\) values of interpolation points are fitted</p></li>
<li><p>a subset can be configured by setting <code>trend_ix</code> in <code>options</code></p></li>
<li><p>if <code>trend</code>  and <code>mean_forcing</code> are both called, at least one of the interpolation points should be set to <code>1</code></p></li>
</ul></li>
<li><p>At most one of the following aspects of seasonality:</p><ul><li><p><strong><code>phase</code></strong> : the time of year when forcing peaks (also, see <a href="fit_season_phase.html">fit_season_phase</a>)</p></li>
<li><p><strong><code>pw</code></strong> : a shape parameter affecting the amplitude (also, see <a href="fit_season_pw.html">fit_season_pw</a>)</p></li>
<li><p><strong><code>bottom</code></strong> : a shape parameter affecting amplitude (also, see <a href="fit_season_bottom.html">fit_season_bottom</a>)</p></li>
<li><p><strong><code>amplitude</code></strong> : fits the shape parameters that affect amplitude: <code>pw</code> &amp; <code>bottom</code> (also, see <a href="fit_season_amplitude.html">fit_season_amplitude</a>)</p></li>
<li><p><strong><code>season</code></strong> : fits all seasonality shape parameters: <code>pw</code> &amp; <code>bottom</code> &amp; <code>phase</code> (also, see <a href="fit_season.html">fit_season</a>)</p></li>
</ul></li>
<li><p><strong><code>irs_coverage</code></strong> : fit irs coverage parameters (also see <a href="fit_irs_coverage.html">fit_irs_coverage</a>)</p><ul><li><p>by default, coverage levels for all rounds are fitted independently</p></li>
<li><p>other options can be fitted by setting <code>irs_ix</code> in <code>options</code></p></li>
</ul></li>
<li><p><strong><code>bednet_contact</code></strong> : fit bed net coverage parameters (also see <a href="fit_bednet_contact.html">fit_bednet_contact</a>)</p><ul><li><p>by default, coverage levels for all rounds are fitted independently</p></li>
<li><p>other options can be fitted by setting <code>bednet_ix</code> in <code>options</code></p></li>
</ul></li>
</ul><p>The <strong><code>xds</code></strong> model object that gets returned by <code>fit_model</code> has the optimal paramters.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fit_model</span><span class="op">(</span><span class="va">xds_obj</span>, <span class="va">feature</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-xds-obj">xds_obj<a class="anchor" aria-label="anchor" href="#arg-xds-obj"></a></dt>
<dd><p>an <strong><code>xds</code></strong> model object</p></dd>


<dt id="arg-feature">feature<a class="anchor" aria-label="anchor" href="#arg-feature"></a></dt>
<dd><p>a list of one or more model feature to fit</p></dd>


<dt id="arg-options">options<a class="anchor" aria-label="anchor" href="#arg-options"></a></dt>
<dd><p>a list of options to override feature-specific defaults</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an <strong><code>xds</code></strong> model object</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David L. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

